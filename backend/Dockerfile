# ğŸ“¦ à¹ƒà¸Šà¹‰ image à¸—à¸µà¹ˆà¹€à¸šà¸²
FROM node:22-alpine

# ğŸ“‚ à¸•à¸±à¹‰à¸‡ working directory
WORKDIR /app

# ğŸ§¾ à¸„à¸±à¸”à¸¥à¸­à¸à¹„à¸Ÿà¸¥à¹Œ package à¸à¹ˆà¸­à¸™à¹€à¸à¸·à¹ˆà¸­à¸¥à¸” build cache invalidation
COPY package*.json ./

# ğŸ› ï¸ à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies (à¸£à¸§à¸¡ devDependencies à¸”à¹‰à¸§à¸¢)
RUN npm install

# ğŸ“ à¸„à¸±à¸”à¸¥à¸­à¸à¹„à¸Ÿà¸¥à¹Œà¸­à¸·à¹ˆà¸™ à¹†
COPY . .

# ğŸ”¥ à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ nodemon à¸—à¸±à¹ˆà¸§à¹„à¸› (à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹ƒà¸ªà¹ˆà¹ƒà¸™ package.json)
# RUN npm install -g nodemon

# ğŸ“¤ à¹€à¸›à¸´à¸” port 3000
EXPOSE 3000

# ğŸš€ à¸ªà¸±à¹ˆà¸‡à¸£à¸±à¸™ dev
CMD ["npm", "run", "dev"]
